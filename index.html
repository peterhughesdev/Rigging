<html>
	<head>
		<title>Rigging</title>
	
        <link href="https://cdn.quilljs.com/1.1.4/quill.bubble.css" rel="stylesheet">
        <style>
             #container { display : flex; }
             #container > div { flex : 1 1 auto; width : 50%; }
             #editor { background : #fafbea; }
             #view { background : #fff;  border-left : 1px solid #ccc; }
             #error { background : #ef8e8e; color : #fff; }

        </style>
	</head>
	<body>
        <div id="container">
            <div id="editor">
                <p>Start writing...</p>
            </div>
            <div id="view">
            </div>
        </div>
        <div id="error"></div>

        <script src="https://cdn.quilljs.com/1.1.4/quill.js"></script>
        <script>
            Rigging = require('./src/rigging');
        </script>
        <script>
              var quill = new Quill('#editor', {
                  theme: 'bubble'
              });

              var rigging = new Rigging({
                  render : function(html) {
                      document.querySelector('#view').innerHTML = html;
                  },
                  onError : function(err) {
                      document.querySelector('#error').innerHTML = 
                          '<div class="error">' + err.stack + '</div>'
                  }
              });

              quill.on('text-change', function() {
                  rigging.parse(quill.getText());
              });
        </script>
    </body>
</html>
